extends layout

block content
    div.account-card.text-center
        span Signed in as
        a.no-decoration(href= "https://twitter.com/"+userInfo.screen_name, target="_blank")
            span.screen-name #{userInfo.screen_name}
        a.logout(href="/logout") Sign-out
    h1.text-center= title
    div.view
        div.pane-left.pane
            div.pane.gmap-column.relative
                div.relative
                    geosearch-control(params="mapInstance: mapInstance, selectedResult: selectedGeosearchResult")
                    button.show-hide-controls(data-bind='click: toggleFilterSettings')
                        span.icon.icon-wrench
                div.settings-wrapper(data-bind="component: {name: 'filter-settings-panel', params: {filters: filters}}, smoothShowHide: filterSettingsVisible")
                gmap-control(params="mapInstance: mapInstance, appState: appState, selectedGeosearchResult: selectedGeosearchResult")
        div.pane-right.pane
            selection-details-control(params="appState: appState, mapInstance: mapInstance")
            ul#tweet-list.scroll(data-old-bind='setHeight: needSetHeight')
                button.button-show-incoming(data-old-bind='visible: hidedIncomingCount()>0, click: showHidedStatuses', style='display: none;')
                    span New statuses:&nbsp;
                    span(data-old-bind='text: hidedIncomingCount')
                div.preloader(data-old-bind='visible: restLoadingNow')
                button.button-request-previous(data-old-bind='click: needMore, visible: !restLoadingNow()', style='display: none;')
                    span Load more
    footer
        section.inner-info
            span(data-old-bind='text: displayedCount')
            span &nbsp;of&nbsp;
            span(data-old-bind='text: receivedCount')
        section.inner-info
            span(data-old-bind='text: receiveSpeed')
            span &nbsp;tw/min
        a(href="https://twitter.com/maxnetish", class="twitter-follow-button", data-show-count="false", data-lang="#{langCode}") Follow me
    //script#tweet-template(type='text/html')
        include tweet_template_mini
    //script#tweet-template-details(type="text/html")
        include tweet_template_details
    script#geosearch-result-item-tpl(type="text/html")
        include templates/geosearch-result-item.tpl.jade
    script#geosearch-control-tpl(type="text/html")
        include templates/geosearch-control.tpl.jade
    script#selection-details-tpl(type="text/html")
        include templates/selection-details-control.tpl.jade
    script#filter-settings-panel-tpl(type="text/html")
        include templates/filter-settings-panel.tpl.jade
    script.
        window.gt_config={};
        window.gt_config.langCode = "#{langCode}";
        window.gt_config.ipGeolocation = !{ipGeocode};
    if developmentMode
        script(src="js/app.js", async)
    else
        script(src="js/app.min.js", async)
    include twitter_follow_script